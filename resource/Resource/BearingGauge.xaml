<UserControl x:Class="Pa5455CmsResource.Resource.BearingGauge"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Pa5455CmsResource.Resource"
             mc:Ignorable="d" 
             d:DesignHeight="100" d:DesignWidth="100">
    <Grid>
        <Canvas x:Name="DialCanvas" Grid.Column="0" Background="Transparent">
            <!-- Bearing 0° 눈금 -->
            <Line X1="50" Y1="0" X2="50" Y2="8" Stroke="White" StrokeThickness="1" Width="100" Height="100" Canvas.Left="-1"  />
            <!-- Bearing 90° 눈금 -->
            <Line X1="100" Y1="50" X2="92" Y2="50" Stroke="White" StrokeThickness="1" Width="100" Height="100" />
            <!-- Bearing 180° 눈금 -->
            <Line X1="50" Y1="92" X2="50" Y2="100" Stroke="White" StrokeThickness="1" Width="100" Height="100"/>
            <!-- Bearing 270° 눈금 -->
            <Line X1="0" Y1="50" X2="8" Y2="50" Stroke="White" StrokeThickness="1" Width="100" Height="100"/>

            <!-- 선박, 부채꼴 Canvas -->
            <Canvas x:Name="DialGroup" Width="100" Height="100"
  RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Left" VerticalAlignment="Top">
                <Canvas.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform Angle="{Binding BearingAngle, ElementName=Root}" />
                        <TranslateTransform/>
                    </TransformGroup>
                </Canvas.RenderTransform>
                <!-- 원형 배경 -->
                <Ellipse Width="100" Height="100" Stroke="White" StrokeThickness="2" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                <!-- 바늘 (Polygon) -->
                <Polygon x:Name="Needle" Fill="White" Points="3,0 0,12 0,24 6,24 6,12" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Center" VerticalAlignment="Top" Canvas.Left="47" Canvas.Top="38">
                    <Polygon.RenderTransform>
                        <RotateTransform Angle="{Binding NeedleAngle, ElementName=Root}" />
                        <!--<RotateTransform Angle="300" />-->
                    </Polygon.RenderTransform>
                </Polygon>
                <!-- 부채꼴 -->
                <Path Stroke="White" StrokeThickness="1" Opacity="0.5" Fill="LightGray" HorizontalAlignment="Center" VerticalAlignment="Top" RenderTransformOrigin="0.5,0.5" Width="100" Height="100">
                    <Path.Data>
                        <PathGeometry>
                            <PathFigure StartPoint="50,50" IsClosed="True">
                                <!-- 중심에서 시작점으로 선 -->
                                <LineSegment Point="7.5,74.5" />
                                <!-- 호 (120도, 반지름 50) -->
                                <ArcSegment Point="92.5,74.5"
                      Size="49,50"
                      IsLargeArc="False"
                      SweepDirection="Counterclockwise"/>
                                <!-- 끝에서 다시 중심 -->
                                <LineSegment Point="50,50" />
                            </PathFigure>
                        </PathGeometry>
                    </Path.Data>
                </Path>
            </Canvas>

            <!-- Bearing 각도 표시  -->
            <TextBlock x:Name="TrainingArcDegree" Text="330.0" Foreground="White" Background="Black" FontSize="8" FontWeight="Bold" Width="44" Height="12" Canvas.Left="28" Canvas.Top="23" HorizontalAlignment="Left" VerticalAlignment="Top"/>

            <!-- Bearing 0도 라벨-->
            <TextBlock Text="0" Canvas.Left="47" FontSize="8" Canvas.Top="7" Foreground="White" FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <!-- Bearing 90도 라벨-->
            <TextBlock Text="90" Canvas.Left="80" FontSize="8" Canvas.Top="45" Foreground="White" FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <!-- Bearing 180도 라벨-->
            <TextBlock Text="180" Canvas.Left="43" FontSize="8" Canvas.Top="82" Foreground="White" FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <!-- Bearing 270도 라벨 -->
            <TextBlock Text="270" Canvas.Left="10" FontSize="8" Canvas.Top="45" Foreground="White" FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Top"/>
        </Canvas>
    </Grid>
</UserControl>
